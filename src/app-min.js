window.addEventListener('DOMContentLoaded',()=>{window.addEventListener('scroll',()=>{const header=document.querySelector('.navbar'),windowScroll=window.pageYOffset;if(windowScroll>80){header.classList.add('fixed-top')}else{header.classList.remove('fixed-top')}});(function(){'use strict';const forms=document.querySelectorAll('.needs-validation');Array.prototype.slice.call(forms).forEach(function(form){form.addEventListener('submit',function(event){if(!form.checkValidity()){event.preventDefault();event.stopPropagation()}form.classList.add('was-validated')},false)})})();const showActive=()=>{const navLink=document.querySelectorAll('.nav-link');navLink.forEach(link=>{link.addEventListener('click',()=>{for(var i=0;i<navLink.length;i++){if(navLink[i]!=this)navLink[i].classList.remove("active")}link.classList.toggle("active")})})};showActive()});const checkTextInputs=(selector)=>{const txtInputs=document.querySelectorAll(selector);txtInputs.forEach(input=>{input.addEventListener('keypress',function(e){if(e.key.match(/[^а-яё 0-9]/ig)){e.preventDefault()}})})};checkTextInputs('[name="name"]');checkTextInputs('[name="message"]');const mask=(selector)=>{let setCursorPosition=(pos,elem)=>{elem.addEventListener('click',()=>{elem.selectionStart=elem.selectionEnd=elem.value.length});elem.focus();if(elem.setSelectionRange){elem.setSelectionRange(pos,pos)}else if(elem.createTextRange){let range=elem.createTextRange();range.collapse(true);range.moveEnd('character',pos);range.moveStart('character',pos);range.select()}};function createMask(event){let matrix='+7 (___) ___ __ __',i=0,def=matrix.replace(/\D/g,''),val=this.value.replace(/\D/g,'');if(def.length>=val.length){val=def}this.value=matrix.replace(/./g,function(a){return/[_\d]/.test(a)&&i<val.length?val.charAt(i++):i>=val.length?'':a});if(event.type==='blur'){if(this.value.length==2){this.value=''}}else{setCursorPosition(this.value.length,this)}}let inputs=document.querySelectorAll(selector);inputs.forEach(input=>{input.addEventListener('input',createMask);input.addEventListener('focus',createMask);input.addEventListener('blur',createMask)})};mask('input[name="phone"]');